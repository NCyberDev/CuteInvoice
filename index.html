<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cute Invoice Tracker - Makeup Artist</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ’„âœ¨ Cutie Invoice Tracker âœ¨ğŸ’–</h1>
            <p>Girly Pop Makeup Artist - Portugal Tax Management ğŸ€</p>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="app.showTab('dashboard')">ğŸ’– Dashboard</button>
            <button class="tab" onclick="app.showTab('invoices')">ğŸ“‹ Invoices</button>
            <button class="tab" onclick="app.showTab('add-invoice')">âœ¨ Add Invoice</button>
            <button class="tab" onclick="app.showTab('tax-info')">ğŸ’° Tax Info</button>
        </div>
        
        <div class="content">
            <!-- Dashboard Tab -->
            <div id="dashboard" class="tab-content active">
                <div class="summary-cards">
                    <div class="summary-card">
                        <h3 id="totalInvoices">0</h3>
                        <p>ğŸ’« Total Invoices</p>
                    </div>
                    <div class="summary-card">
                        <h3 id="totalRevenue">â‚¬0</h3>
                        <p>ğŸ’¸ Total Revenue</p>
                    </div>
                    <div class="summary-card">
                        <h3 id="pendingPayments">â‚¬0</h3>
                        <p>â³ Pending Payments</p>
                    </div>
                    <div class="summary-card">
                        <h3 id="taxReserve">â‚¬0</h3>
                        <p>ğŸ¦ Tax Reserve Fund</p>
                    </div>
                </div>

                <div class="tax-breakdown">
                    <div class="tax-header" onclick="app.toggleTaxSettings()">
                        <h4>ğŸŒ¸ Estimated Tax Obligations (2024 Rates) ğŸŒ¸</h4>
                        <span class="tax-toggle" id="taxToggle">âš™ï¸</span>
                    </div>
                    
                    <!-- Collapsible Tax Settings -->
                    <div class="tax-settings" id="taxSettings" style="display: none;">
                        <div class="tax-settings-content">
                            <h5 style="color: #374151; margin-bottom: 15px;">âš™ï¸ Tax Settings</h5>
                            <div class="vat-settings">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                    <label for="vatPercentageInput" style="font-weight: 600; color: #374151; flex: 1;">ğŸ’ IVA (VAT) Rate:</label>
                                    <input type="number" id="vatPercentageInput" min="0" max="50" step="0.1" style="width: 80px; padding: 8px; border: none; border-radius: 8px; background: white; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);">
                                    <span style="color: #6b7280;">%</span>
                                </div>
                                <button class="btn" onclick="app.updateVatPercentage()" style="padding: 8px 16px; font-size: 14px; width: 100%;">ğŸ’¾ Update</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tax-item">
                        <span><strong>ğŸ’ IVA (VAT) - <span id="vatPercentageDisplay">23%</span>:</strong></span>
                        <span id="ivaAmount">â‚¬0</span>
                    </div>
                    <div class="tax-item">
                        <span><strong>âœ¨ Income Tax (estimated average):</strong></span>
                        <span id="incomeTaxAmount">â‚¬0</span>
                    </div>
                    <div class="tax-item" style="border-top: 2px solid #e9d5ff; font-weight: bold;">
                        <span><strong>ğŸ’– TOTAL TO RESERVE:</strong></span>
                        <span id="totalTaxAmount">â‚¬0</span>
                    </div>
                </div>
            </div>
            
            <!-- Invoices Tab -->
            <div id="invoices" class="tab-content">
                <div style="margin-bottom: 20px;">
                    <button class="btn" onclick="app.exportData()">ğŸ“¥ Export Data ğŸ€</button>
                    <button class="btn" onclick="app.importData()" id="importData">ğŸ“¤ Import Data ğŸ’–</button>
                    <button class="btn btn-danger" onclick="app.clearAllData()">ğŸ—‘ï¸ Clear All Data ğŸ’”</button>
                </div>
                <!-- Desktop Table View -->
                <table class="invoice-table" id="invoiceTable">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Client</th>
                            <th>Service</th>
                            <th>Amount</th>
                            <th>Status</th>
                            <th>Due Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="invoiceTableBody">
                        <!-- Invoices will be populated here -->
                    </tbody>
                </table>
                
                <!-- Mobile Card View -->
                <div class="invoice-cards" id="invoiceCards">
                    <!-- Mobile invoice cards will be populated here -->
                </div>
            </div>
            
            <!-- Add Invoice Tab -->
            <div id="add-invoice" class="tab-content">
                <div class="form-section">
                    <h3 style="margin-bottom: 20px; color: #fd79a8;">ğŸŒ¸ Add New Invoice ğŸŒ¸</h3>
                    <form id="invoiceForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="clientName">ğŸ’… Client Name</label>
                                <input type="text" id="clientName" required>
                            </div>
                            <div class="form-group">
                                <label for="serviceType">âœ¨ Service Type</label>
                                <select id="serviceType" required>
                                    <option value="">Select Service... ğŸ’–</option>
                                    <option value="Bridal Makeup">ğŸ‘° Bridal Makeup</option>
                                    <option value="Evening Makeup">ğŸŒ™ Evening Makeup</option>
                                    <option value="Photoshoot Makeup">ğŸ“¸ Photoshoot Makeup</option>
                                    <option value="Special Event">ğŸ‰ Special Event</option>
                                    <option value="Makeup Lesson">ğŸ“š Makeup Lesson</option>
                                    <option value="Other">ğŸ€ Other</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="amount">ğŸ’° Amount (â‚¬)</label>
                                <input type="number" id="amount" step="0.01" min="0" required>
                            </div>
                            <div class="form-group">
                                <label for="invoiceDate">ğŸ“… Invoice Date</label>
                                <input type="date" id="invoiceDate" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="dueDate">â° Due Date</label>
                                <input type="date" id="dueDate" required>
                            </div>
                            <div class="form-group">
                                <label for="status">ğŸ€ Payment Status</label>
                                <select id="status" required>
                                    <option value="pending">â³ Pending</option>
                                    <option value="sent">ğŸ“¤ Sent</option>
                                    <option value="paid">ğŸ’– Paid</option>
                                    <option value="overdue">ğŸ˜­ Overdue</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="notes">ğŸ“ Notes (Optional)</label>
                                <input type="text" id="notes" placeholder="Additional notes... ğŸ’­">
                            </div>
                        </div>
                        
                        <button type="submit" class="btn">ğŸ’¾ Add Invoice ğŸ€</button>
                    </form>
                </div>
            </div>
            
            <!-- Tax Info Tab -->
            <div id="tax-info" class="tab-content">
                <div class="form-section">
                    <h3 style="margin-bottom: 20px; color: #374151;">ğŸ‡µğŸ‡¹ Portuguese Tax Information for Makeup Artists (2024) ğŸŒ¸</h3>
                    
                    <div class="info-section">
                        <h4>ğŸ’ IVA (VAT) - Value Added Tax</h4>
                        <p><strong>Rate:</strong> 23% (general rate)</p>
                        <p><strong>Threshold:</strong> Must register if turnover > â‚¬14,500 (â‚¬15,000 from 2025)</p>
                        <p><strong>Payment:</strong> Quarterly payments (you mentioned you pay every 3 months)</p>
                        <p><strong>Deadline:</strong> 7 days after the reporting period ends</p>
                    </div>
                    
                    <div class="info-section">
                        <h4>âœ¨ Income Tax (IRS) - 2024 Rates</h4>
                        <p><strong>Tax-free allowance:</strong> â‚¬4,104</p>
                        <p><strong>Progressive rates:</strong></p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Up to â‚¬7,703: 13.25%</li>
                            <li>â‚¬7,704â€“â‚¬11,623: 18%</li>
                            <li>â‚¬11,624â€“â‚¬16,472: 23%</li>
                            <li>â‚¬16,473â€“â‚¬21,131: 26%</li>
                            <li>And higher brackets up to 48%</li>
                        </ul>
                    </div>
                    

                    
                    <div class="recommendation-box">
                        <h4>ğŸ’¡ Recommended Tax Strategy</h4>
                        <p><strong>Set aside approximately 35-40% of each invoice</strong> to cover:</p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>IVA (VAT): 23%</li>
                            <li>Income Tax: ~15-20% (depends on total income)</li>
                        </ul>
                        <p style="margin-top: 15px;"><em>This tracker calculates these automatically for you!</em></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>